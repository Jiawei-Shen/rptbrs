var __vueify_style_dispose__ = require("vueify/lib/insert-css").insert(".ucHeaderContainer[data-v-18a0555c]{\n    height: 40px;background-color: #393b46;position: relative;font-size: 12px/1.5,\\5b8b\\4f53;color: #ffffff;    font-family:Microsoft YaHei,微软雅黑;\n}\n.ucHeaderContainer ul[data-v-18a0555c]{\n    list-style: none;position: absolute;left: 0px;\n}\n.ucHeaderContainer ul li[data-v-18a0555c]{\n    float: left;height: 38px;line-height: 38px;\n}\n.ucHeaderContainer ul li a[data-v-18a0555c]{\n    color: #ffffff;text-decoration: none;font-size: 14px;padding: 0 15px;\n}\n.ucHeaderContainer span.ucRightHeader[data-v-18a0555c]{\n    color: #ffffff;position: absolute;right: 20px;top: 10px;\n}\n.ucHeaderContainer span.ucRightHeader span.userIcon[data-v-18a0555c]{\n    display:block;float: left;\n}\n.ucHeaderContainer span.ucRightHeader span.userIcon a[data-v-18a0555c]{\n    color: #ffffff;margin-right:4px;\n}\n.ucHeaderContainer span.ucRightHeader span.username[data-v-18a0555c]{\n    padding-right: 16px;display:block;float: left;line-height:16px;\n}\n.ucHeaderContainer span.ucRightHeader span.fastentry[data-v-18a0555c]{\n    display:block;float: left;padding-right:16px;position: relative;\n}\n.ucHeaderContainer span.ucRightHeader span.fastentry .productList[data-v-18a0555c]{\n    position:absolute;top: 0px;right:3px;width:260px;height:95px;\n}\n.ucHeaderContainer span.ucRightHeader span.fastentry .productList .productListContainer[data-v-18a0555c]{\n    display:block;padding:28px;position:absolute;top: 20px;right:5px;max-width:190px;height:auto;background-color:#f5f5f5;color:#333333;z-index: 999;border: 1px solid #dadada;border-radius: 4px;\n}\n.ucHeaderContainer span.ucRightHeader span.fastentry .productList .productHidden[data-v-18a0555c]{\n    width: 0;height: 0;border-left: 6px solid transparent;border-right: 6px solid transparent;border-bottom: 8px solid #f8f8f8;position:absolute;top:-8px;right:8px;\n}\n.ucHeaderContainer span.ucRightHeader span.fastentry .productList span a[data-v-18a0555c]{\n    color:#333333;font-size: 12px;text-decoration: none;margin-right: 12px;cursor: pointer;\n}\n.ucHeaderContainer span.ucRightHeader span.fastentry .productList .bpSpan[data-v-18a0555c],.ucHeaderContainer span.ucRightHeader span.fastentry .productList .scSpan[data-v-18a0555c]{\n    display:inline-block;width:60px;height:30px;cursor: pointer;\n}\n.ucHeaderContainer span.ucRightHeader span.message[data-v-18a0555c]{\n    display:block;float: left;padding-right: 16px;\n}\n.ucHeaderContainer span.ucRightHeader span.help[data-v-18a0555c]{\n    display:block;float: left;padding-right: 12px;\n}\n.ucHeaderContainer span.ucRightHeader span.logout[data-v-18a0555c]{\n    display:block;float: left;line-height:16px;\n}\n.ucHeaderContainer span.ucRightHeader span.logout a[data-v-18a0555c]{\n    color:#ffffff;\n}\n.ucHeaderContainer .notreadnum[data-v-18a0555c]{\n    position: relative;right: 4px;top: -6px;padding:1px 4px 0px 4px;border-radius: 8px;background-color: red;font-size:8px;font-style:normal;color:#ffffff;\n}")
;(function(){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = {
    data: function data() {
        return {
            headerInfo: {},
            isShowProduct: false,
            msgNumUrl: '/message/web/main/msg/countByTopMsgType',
            headerUrl: location.protocol == "https:" ? '/uc/userBase' : 'http://' + location.host + '/wolongweb/account/getUserInfo',
            uid: this.getUrlParam().uid || '',
            httpUrl: 'http://' + location.host,
            messageNum: 0,
            showMessageNum: false
        };
    },
    mounted: function mounted() {
        this.initLogger();

        this.renderHeader();

        this.renderMessageNum();
    },
    ready: function ready() {
        this.$options.mounted.call(this);
    },

    methods: {
        renderMessageNum: function renderMessageNum() {
            var self = this;
            self.ajax({
                url: self.msgNumUrl,
                type: "GET",
                dataType: "json",
                data: {
                    msgTypeId: -1,
                    userId: self.uid || self.headerInfo.userId,
                    readFlag: 0
                },
                success: function success(response, xml) {
                    var data = JSON.parse(response);
                    if (data.status == 0) {
                        if (data.data.totalCount > 0) {
                            if (data.data.totalCount > 99) {
                                data.data.totalCount = '99+';
                            }
                            self.messageNum = data.data.totalCount;
                            self.showMessageNum = true;
                        }
                    }
                },
                fail: function fail(status) {}
            });
        },
        renderHeader: function renderHeader() {
            var self = this;
            self.ajax({
                url: self.headerUrl,
                type: "GET",
                dataType: "json",
                data: {
                    level: 1,
                    uid: self.uid
                },
                success: function success(response, xml) {
                    var data = JSON.parse(response);
                    if (data.status == 0 || data.status == 'success') {
                        if (data.data.roles.indexOf('ROLE_TUIGUANG_VIP') > -1 || data.data.roles.indexOf('ROLE_TUIGUANG_CHILD') > -1 || data.data.roles.indexOf('ROLE_TUIGUANG_COMMON') > -1) {
                            data.data.showFinance = true;
                            data.data.showIndex = true;
                        }
                        if (data.data.roles.indexOf('ROLE_TUIGUANG_MANAGER') > -1 || data.data.roles.indexOf('ROLE_AGENT_ACCOUNTANT') > -1 || data.data.roles.indexOf('ROLE_AGENT_ADMIN') > -1) {
                            data.data.showFinance = true;
                        }
                        if (data.data.roles.indexOf('ROLE_TUIGUANG_VIP') > -1) {
                            data.data.showProduct = true;
                        }
                        data.data.logoutUrl = '/sso/v1/logout?targetUrl=' + encodeURIComponent(window.location.protocol + '//' + window.location.host);
                        data.data.userId = data.data.userId || data.data.id || self.uid;
                        data.data.baseUrl = 'https://' + location.host;
                        if (!data.data.userName) {
                            data.data.userName = data.data.name;
                        }
                        self.headerInfo = data.data;
                    }
                },
                fail: function fail(status) {}
            });
        },
        showProduct: function showProduct(val) {
            this.isShowProduct = val;
        },
        ajax: function ajax(options) {
            options = options || {};
            options.type = (options.type || "GET").toUpperCase();
            options.dataType = options.dataType || "json";
            var params = this.formatParams(options.data);

            if (window.XMLHttpRequest) {
                var xhr = new XMLHttpRequest();
            } else {
                var xhr = new ActiveXObject('Microsoft.XMLHTTP');
            }

            xhr.onreadystatechange = function () {
                if (xhr.readyState == 4) {
                    var status = xhr.status;
                    if (status >= 200 && status < 300) {
                        options.success && options.success(xhr.responseText, xhr.responseXML);
                    } else {
                        options.fail && options.fail(status);
                    }
                }
            };

            if (options.type == "GET") {
                xhr.open("GET", options.url + "?" + params, true);
                xhr.send(null);
            } else if (options.type == "POST") {
                xhr.open("POST", options.url, true);

                xhr.setRequestHeader("Content-Type", "application/json");
                xhr.send(params);
            }
        },
        getUrlParam: function getUrlParam() {
            var url = window.location.href;
            var paramObj = {};
            var urlParam0 = url.split("?");
            if (urlParam0.length > 1) {
                var urlParam = urlParam0[1].split("#");
                var urlParamArr = urlParam[0].split("&");
                for (var i = 0, len = urlParamArr.length; i < len; i++) {
                    var thisArr = urlParamArr[i].split("=");
                    paramObj[thisArr[0]] = decodeURI(thisArr[1]);
                }
            }
            return paramObj;
        },
        formatParams: function formatParams(data) {
            var arr = [];
            for (var name in data) {
                arr.push(encodeURIComponent(name) + "=" + encodeURIComponent(data[name]));
            }
            arr.push(("v=" + Math.random()).replace(".", ""));
            return arr.join("&");
        },
        initLogger: function initLogger() {
            if (window._paq == undefined || window._paq.length == undefined || window._paq.length <= 0) {
                window._paq = window._paq || [];
                (function () {
                    var u = "https://track.uc.cn/";
                    _paq.push(['setSiteId', '27de2a59257f']);
                    _paq.push(['setDocumentTitle', '卧龙推广']);
                    _paq.push(['setTrackerUrl', u + 'collect?uc_param_str=dnfrcpve']);
                    _paq.push(['trackPageView']);
                    _paq.push(['enableLinkTracking']);
                    var d = document,
                        g = d.createElement('script'),
                        s = d.getElementsByTagName('script')[0];
                    g.type = 'text/javascript';g.defer = true;g.async = true;
                    g.src = u + 'uaest.js';
                    s.parentNode.insertBefore(g, s);
                })();
            }
            document.getElementById('js-productHlist').addEventListener('click', function (evt) {
                if (evt.target.dataset && evt.target.dataset.uclogid) {
                    _paq.push(['trackEvent', this.dataset.uclogid, 'ucHome', '']);
                }
            }, false);

            document.getElementById('js-productH').addEventListener('mouseover', function (evt) {
                if (evt.target.dataset && evt.target.dataset.uclogid) {
                    _paq.push(['trackEvent', this.dataset.uclogid, 'ucHome', '']);
                }
            });
        }
    }
};
})()
if (module.exports.__esModule) module.exports = module.exports.default
var __vue__options__ = (typeof module.exports === "function"? module.exports.options: module.exports)
if (__vue__options__.functional) {console.error("[vueify] functional components are not supported and should be defined in plain js files using render functions.")}
__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"ucHeaderContainer"},[_c('ul',[(_vm.headerInfo.showIndex)?_c('li',[_c('a',{attrs:{"href":_vm.headerInfo.baseUrl+'/static/uc/index.html#/index?uid='+_vm.headerInfo.userId}},[_vm._v("首页")])]):_vm._e(),_vm._v(" "),_c('li',[_c('a',{attrs:{"href":_vm.headerInfo.baseUrl+'/static/uc/index.html#/account/summary?uid='+_vm.headerInfo.userId}},[_vm._v("账户中心")])]),_vm._v(" "),(_vm.headerInfo.showFinance)?_c('li',[_c('a',{attrs:{"href":_vm.headerInfo.baseUrl+'/static/uc/index.html#/finance/summary?uid='+_vm.headerInfo.userId}},[_vm._v("财务中心")])]):_vm._e()]),_vm._v(" "),_c('span',{staticClass:"ucRightHeader"},[_vm._m(0),_vm._v(" "),_c('span',{staticClass:"username"},[_vm._v(_vm._s(_vm.headerInfo.userName))]),_vm._v(" "),_c('span',{staticClass:"fastentry"},[_c('a',{staticClass:"js-fast",attrs:{"data-uclogid":"快捷入口","href":"javascript:void(0);","id":"js-productH"},on:{"mouseleave":function($event){_vm.showProduct(false)},"mouseenter":function($event){_vm.showProduct(true)}}},[_c('img',{staticStyle:{"height":"15px","width":"15px"},attrs:{"src":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAAsSAAALEgHS3X78AAABGklEQVQoz52RMUpDURBFz8QXo4JWEoOmtBARLLR0Ce7AJYhgmy2kcRWCC7B0AxaSTgt7IWACUciPJPFaeJ+8ImkceMz95/77Z/gPSQNJY582gKRuwbpm7YINErAFJH6r5r4GrBc6e5nVE/BhM4BvGxOgKjT2KkDAJCQd+WsBPEfEVNIusONAPyLeJNWBQwfzgH+UpJ6kF5+WWadgHbNWwXoJOPaaAKvue8BBobOXmWrAbMEi8yU61ywkNYuJ7xExl7QJbJiNI+JT0gqwnScmYOSH8jqqYpNpcR0j/1US8AA0HDwH+sAVcOHALXADNIF7B78ScFbs3nDfB06sHwvvNL9YY3HFEv1XCbh0D2Bofge8Wj+5D4Frrzr7ARpwm7EWaHjfAAAAAElFTkSuQmCC"}})]),_vm._v(" "),_c('div',{directives:[{name:"show",rawName:"v-show",value:(_vm.isShowProduct),expression:"isShowProduct"}],staticClass:"productList",attrs:{"id":"js-productHlist"},on:{"mouseleave":function($event){_vm.showProduct(false)},"mouseenter":function($event){_vm.showProduct(true)}}},[_c('div',{staticClass:"productListContainer"},[_c('div',{staticClass:"productHidden"}),_vm._v(" "),_c('span',{staticClass:"cpcSpan"},[_c('a',{attrs:{"target":"_blank","data-uclogid":"快捷入口搜索推广","href":'/cpc/static/index.html?uid='+_vm.headerInfo.userId+'#!/management'}},[_vm._v("搜索推广")])]),_vm._v(" "),(_vm.headerInfo.showProduct)?[_c('span',{staticClass:"bpSpan"},[_c('a',{attrs:{"target":"_blank","data-uclogid":"快捷入口品牌推广","href":_vm.httpUrl+'/cpt/static/index.html?uid='+_vm.headerInfo.userId+'#/brand/report'}},[_vm._v("品牌推广")])]),_vm._v(" "),_c('span',{staticClass:"scSpan"},[_c('a',{attrs:{"target":"_blank","data-uclogid":"快捷入口SC推广","href":_vm.httpUrl+'/cpt/static/index.html?uid='+_vm.headerInfo.userId+'#/sc'}},[_vm._v("SC推广")])])]:_vm._e(),_vm._v(" "),_vm._m(1)],2)])]),_vm._v(" "),_c('span',{staticClass:"message"},[_c('a',{attrs:{"title":"消息","target":"message","href":'/cpc/static/index.html?uid='+_vm.headerInfo.userId+'#!/message'}},[_c('img',{staticStyle:{"height":"15px","width":"15px"},attrs:{"src":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAQCAYAAAAmlE46AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAAsSAAALEgHS3X78AAAA3klEQVQoz5WRPUoDURRGz5WJGBnTKNgEFGxdjKXbsHcXLkAsLSysXIRgnTpgYSGi8Qf/cmzu4GAmzPPAa977Dtz7PehA3VTP8owoRT31l5MSYV+9dJFzdXeZtKe+uZw7ddwlXtnPRZOPlNaBR6Dq2eYZ2IqI95W8GBdIZGYNoBFXCwv/BOZt8alQnEfErC2WfvJQ3W7aHKg3BY02XKuBevwPqeGoykanwEuO8w3M/ow4aq21AeyEOgCMiK8cfQjUwGsGa+AhIj7yvQJc2F6t1fvWWLcZ7kc9VCd5DroyP28yOPNTyMv/AAAAAElFTkSuQmCC"}}),_vm._v(" "),(_vm.showMessageNum)?_c('span',{staticClass:"js-productHNotRead"},[_c('i',{staticClass:"notreadnum"},[_vm._v(_vm._s(_vm.messageNum))])]):_vm._e()])]),_vm._v(" "),_c('span',{staticClass:"help"},[_c('a',{attrs:{"title":"帮助","target":"_blank","href":'http://e.sm.cn/business/help.html?uid='+_vm.headerInfo.userId}},[_c('img',{staticStyle:{"height":"15px","width":"15px"},attrs:{"src":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAAsSAAALEgHS3X78AAACFElEQVQ4y22Tu2tUURDGf3M3mgdkvZtkOxslgk0khUaEWGiTSiIqgvggXUD0vzD/gETUoFUCkkIsBJNebBQhtgErCyH3cebe3Y0bkz1jsVl3s7nTnW9mvjOPb4Q+S7Q2a8JjaM1jjICAkIJ9EDv5cjwc+d4bL72PWOurcPAAM4RgA5Ftw8C4YNg1EYBgeSIsPz3yq7r9INH02446izVbSlw+3F9Z5Fw1UvcqUrVY8099ZTfWI3WWuNrNLrZbSrLsVpJld1JtDHTw1OULkTpLNH8OgHONS5Emlmr9WTd573KsWRqrWqxqkWrqtDXTbVXfxKqWuOakJLq76WnOVcMxAdhxTkTMCyVAJg1xgv8BdhpkaCI8tRe5fAjxfwJ4HXiacwHDHzvsJUBMHooNTk2E5Z/VcDQ1/K+21wSgWik3hWDLkHsDQgC0vnYIxisVA9a67dTXPX+vBAwsjoWjzQ4eIJ9b+On/wymyWPMVz/7dkp14NFYZXS2KCQwPlGaKnIY/I5TeFiV77KogeRAwtOlp3igiEOQLWHJcE/mg4acFe4dzjYuHa1w63kL2O9bMCvDOGs/1Cak+f0Rgbvds4mrne7HU1RYidRZ3hHQo5VJHyonWlhItkLJqNdZspV/KR44p0fqacXAfBIENg+32McqUmb/eHmzwohqWnxQStMvOZk1YBG6DDYNghorYe7GTy+OVka3e+H/Qn0Mi4sJWQgAAAABJRU5ErkJggg=="}})])]),_vm._v(" "),_c('span',{staticClass:"logout"},[_c('a',{attrs:{"href":_vm.headerInfo.logoutUrl}},[_vm._v("退出")])])])])}
__vue__options__.staticRenderFns = [function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:"userIcon"},[_c('a',{attrs:{"href":"javascript:void(0);"}},[_c('img',{staticStyle:{"height":"15px"},attrs:{"src":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAPCAYAAADQ4S5JAAAAAXNSR0IArs4c6QAAAOJJREFUKBWVkMEKAVEUhucqmYTyGISdlIWNrbfwAspDeAKztreVpaysLKgpWSgLK7JDamh8R3Nzu0aNU1/nP/+cv3vvOI5RYRgWwYM9nGECFWPlI/mQgTXYdcMofzYjhdm1N415rAMpLeg1Q9uyqg0zsNVmTPe/PI7Pw864hpZ3REMH3idgZDFa0IYRHOEBS+iAy06O7jgIGWYgNYU6qIgqfQhPWIArgR7YJb/yYpvMfQmsYj78sjZy9JWbyRuSVCCPTifZjHaUBA5/BE4SGPwR8JQs844SrQkFmWMqwPOVUvMXAYsRhrA4h1UAAAAASUVORK5CYII="}})])])},function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_c('a',{attrs:{"target":"_blank","data-uclogid":"快捷入口卧龙营销平台","href":"http://open2.sm.cn"}},[_vm._v("卧龙营销开放平台")])])}]
__vue__options__._scopeId = "data-v-18a0555c"
if (module.hot) {(function () {  var hotAPI = require("vueify/node_modules/vue-hot-reload-api")
  hotAPI.install(require("vue"), true)
  if (!hotAPI.compatible) return
  module.hot.accept()
  module.hot.dispose(__vueify_style_dispose__)
  if (!module.hot.data) {
    hotAPI.createRecord("data-v-18a0555c", __vue__options__)
  } else {
    hotAPI.reload("data-v-18a0555c", __vue__options__)
  }
})()}